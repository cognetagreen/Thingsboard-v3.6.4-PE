{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "comb3",
    "name" : "comb3",
    "deprecated" : false,
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 7.5,
      "sizeY" : 4.5,
      "resources" : [ ],
      "templateHtml" : "    <b></b>\n    <div class=\"cont\" *ngIf=\"data\">\n        <div class=\"item1\">\n            <div id=\"item11\" class=\"itemcont\">\n                <!--<div id=\"arr1\">&rarr;</div>-->  \n                <div id=\"line1\"></div>\n                <div id=\"line2\"></div>\n  \t            <div id=\"small-circle1\"></div>\n                <b>{{(data[0] && data[0][\"data\"][0][1]) | number:'1.2-2' }} kW</b>\n                <img src=\"https://png.pngtree.com/png-vector/20191027/ourmid/pngtree-solar-panel-icon-design-template-vector-isolated-png-image_1879860.jpg\" class=\"responsive-img\">\n            </div>\n            <div class=\"itemcont\" style=\"padding: 0;\">\n                <!--<div id=\"arr2\">&rarr;</div>-->\n                <div id=\"line3\"></div>\n                <div id=\"line4\"></div>\n  \t            <div id=\"small-circle2\"></div>\n                <b>{{(data[1] && data[1][\"data\"][0][1]) | number:'1.2-2' }} kW</b>\n                <img src=\"https://www.6thenergy.com/wp-content/uploads/2022/11/diesel-generator-monitoring-1024x576.png\" style=\"height:30px; width:60px; background: white;\">\n            </div>\n        </div>\n        <div class=\"item2\">\n            <div id=\"item21\" class=\"itemcont\">\n                <b id=\"sum\">{{(data[2] && data[2][\"data\"][0][1])| number:'1.2-2'}} kW</b>\n                <img src=\"https://www.kindpng.com/picc/m/3-32343_house-logo-design-vector-real-estate-logo-photos.png\" style=\"height:50px; width:40px;\">\n            </div>\n            <div class=\"itemcont\">\n                <!--<div id=\"arr3\">&rarr;</div>-->\n                <div id=\"line5\"></div>\n                <div id=\"line6\"></div>\n  \t            <div id=\"small-circle3\"></div>\n                <b>{{(data[3] && data[3][\"data\"][0][1]) | number:'1.2-2' }} kW</b>\n                <img src=\"https://img.freepik.com/premium-vector/supports-highvoltage-power-grid-vector-illustration-utility-electric-transmission-networks-power-lines-isolated-white-background_528104-865.jpg\" style=\"height:50px; width:60px;\">\n            </div>\n        </div>\n    </div>",
      "templateCss" : "b {\n    color : #072a7a;\n    font-weight: 700;\n    letter-spacing: 1px;\n    margin-left: 10px;\n}\n.cont {\n    height: 85%;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n}\n\n.item1 {\n    height: 100%;\n    width: 30%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    /*border-right: 2px solid #aeafb0;*/\n}\n.item2 {\n    height: 100%;\n    width: 50%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    /*background: red;*/\n}\n.itemcont {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n    /*border: 3px solid #222;*/\n    /*border-radius: 50%;*/\n    padding: 8px;\n}\n#item11 {\n    height: 50%;    \n    position: relative;\n    /*border: 3px solid #222;*/\n    /*border-radius: 50%;*/\n    /*border-bottom: 2px solid #aeafb0;*/\n\n}\n#item21 {\n    /*height: 100%;*/\n    width: 45%;\n    background: transparent;\n}\n.responsive-img {\n    max-width: 100%;\n    height: 65%;\n}\n#line1, #line3, #line5 {\n    width: 180px;\n    height: 1px;\n    background-color: #999;\n    position: absolute;\n    top: 42px;\n    left: 60px;\n    transform: rotate(16deg);\n    transform-origin: left center;\n}\n#line2, #line4, #line6 {\n    width: 180px;\n    height: 1px;\n    background-color: #999;\n    position: absolute;\n    top: 36px;\n    left: 60px;\n    transform: rotate(16deg);\n    transform-origin: left center;\n}\n\n#line3, #line4 {\n    transform: rotate(-15deg);\n}\n\n#line5, #line6 {\n    width: 160px;\n    top: 63px;\n    left: -90px;\n    transform: rotate(0deg);\n}\n#line5 {\n    top: 57px;\n}\n\n#small-circle1, #small-circle2, #small-circle3 {\n    width: 8px;\n    height: 8px;\n    background-color: #027507;\n    border-radius: 50%;\n    box-shadow: 5px 0px 20px 5px #027507;\n    position: absolute;\n    top: 34px; /* Aligns the small circle to the line */\n    left: 60px; /* Starting position of the small circle */\n    /*transform-origin: 0 0;*/\n    animation: move-1-0 2s linear infinite;\n    z-index: 2;\n}\n\n\n@keyframes move-1-0 {\n    from {\n        transform: translate(0, 5px) rotate(0deg);\n    }\n    to {\n        transform: translate(170px, 48px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n}\n\n@keyframes move-1-1 {\n    from {\n        transform: translate(150px, 40px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n    to {\n        transform: translate(0, 5px) rotate(0deg);\n    }\n}\n\n#small-circle2 {\n    background: #048AD3;\n    box-shadow: 5px 0px 20px 5px #048AD3;\n    transform-origin: 180px 180px;\n    animation: move-2-0 2s linear infinite;\n}\n@keyframes move-2-0 {\n    from {\n        transform: translate(0, 5px) rotate(0deg);\n    }\n    to {\n        transform: translate(150px, -40px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n}\n@keyframes move-2-1 {\n    from {\n        transform: translate(150px, -40px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n    to {\n        transform: translate(0, 5px) rotate(0deg);\n    }\n}\n#small-circle3 {\n    background: #C5E1A4;\n    box-shadow: 5px 0px 20px 5px #A4CE74;\n    top: 58px;\n    /*left: -100px;*/\n    animation: move-3-0 2s linear infinite;\n}\n@keyframes move-3-0 {\n    from {\n        transform: translate(0) rotate(0deg);\n    }\n    to {\n        transform: translate(-160px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n}\n@keyframes move-3-1 {\n    from {\n        transform: translate(-160px) rotate(0deg); /* Translate to follow the slope of the line */\n    }\n    to {\n        transform: translate(0) rotate(0deg);\n    }\n}\n/*#arr1 {*/\n/*    position: absolute;*/\n/*    right: -30px;*/\n/*    transform: rotate(25deg);*/\n/*    font-size: 60px;*/\n/*    font-weight: 900;*/\n/*    color: green;*/\n/*}*/\n/*#arr2 {*/\n/*    position: absolute;*/\n/*    right: -32px;*/\n/*    top: -30px;*/\n/*    transform: rotate(-25deg);*/\n/*    font-size: 60px;*/\n/*    font-weight: 900;*/\n/*    color: green;*/\n/*}*/\n/*#arr3 {*/\n/*    position: absolute;*/\n/*    left: -60px;*/\n/*    transform: rotate(180deg);*/\n/*    font-size: 60px;*/\n/*    font-weight: 900;*/\n/*    color: green;*/\n/*}*/\n\nimg, b {\n    z-index: 6;\n}\nb {\n    font-size: 11px;\n}\n",
      "controllerScript" : "    \r\n    \r\n    self.onInit = function() {\r\n       self.ctx.$scope.data = self.ctx.defaultSubscription.data;\r\n        \r\n    }\r\n        \r\n    self.onDataUpdated = function() {\r\n        self.ctx.detectChanges();\r\n        var sc1 = document.getElementById(\"small-circle1\");\r\n        var sc2 = document.getElementById(\"small-circle2\");\r\n        var sc3 = document.getElementById(\"small-circle3\");\r\n        console.log(sc2)\r\n        var sum = 0\r\n        var arr = [];\r\n        for(var i = 0; i < self.ctx.data.length; i++) {\r\n            if(i!=2){\r\n                self.ctx.data[i].data.forEach((elem) => {\r\n                    sum += +elem[1];\r\n                    arr.push(elem[1]);\r\n                    if(i==0 && elem[1]<=0){\r\n                        sc1.style.display = \"none\";\r\n                    }\r\n                    else if(i==0 && elem[1] > 0){\r\n                        sc1.style.display = \"block\";\r\n                        sc1.style.animation = \"move-1-0 2s linear infinite\";\r\n                    }\r\n                    if(i==1 && elem[1] <= 0){\r\n                        sc2.style.display = \"none\";\r\n                    }\r\n                    else if(i==1 && elem[1] > 0){\r\n                        sc2.style.display = \"block\";\r\n                        sc2.style.animation = \"move-2-0 2s linear infinite\";\r\n                    }\r\n                    if(i==3 && elem[1] == 0){\r\n                        sc3.style.display = \"none\";\r\n                    }\r\n                    else if(i==3 && elem[1] > 0){\r\n                        sc3.style.display = \"block\";\r\n                        sc3.style.background = \"#C5E1A4\";\r\n                        sc3.style.boxShadow = \"5px 0px 20px 5px #A4CE74\";\r\n                        sc3.style.animation = \"move-3-0 2s linear infinite\";\r\n                    }\r\n                    else if(i==3 && elem[1] < 0 && arr[0] > 0) {\r\n                        sc3.style.display = \"block\";\r\n                        sc3.style.background = \"#027507\";\r\n                        sc3.style.boxShadow = \"5px 0px 20px 5px #027507\";\r\n                        sc3.style.animation = \"move-3-1 2s linear infinite\";\r\n                    }\r\n                    \r\n                });\r\n            }\r\n        }\r\n        console.log(sum)\r\n        document.getElementById(\"sum\").innerHTML = sum.toFixed(2) + \" kW\"\r\n\r\n    }\r\n",
      "settingsSchema" : "{}",
      "dataKeySettingsSchema" : "{}\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#4caf50\",\"settings\":{},\"_hash\":0.8088811993350675,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 3\",\"color\":\"#f44336\",\"settings\":{},\"_hash\":0.8149001069154764,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 4\",\"color\":\"#ffc107\",\"settings\":{},\"_hash\":0.8410678502731261,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}],\"alarmFilterConfig\":{\"statusList\":[\"ACTIVE\"]}}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{},\"title\":\"comb3\",\"useDashboardTimewindow\":true,\"displayTimewindow\":true,\"dropShadow\":true,\"enableFullscreen\":true,\"enableDataExport\":false,\"widgetStyle\":{},\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\"}"
    },
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "f672c940-3dfe-11ef-bd3d-ff4c2bdc015d"
    },
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}